!function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return r(i?i:e)},d,d.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./draw"),s=n(r),o=e("./move"),a=n(o),u=e("./controls"),l=n(u),d=e("./overlay"),h=n(d);i["default"]={initialize:function(e){return OpenSeadragon.extend(this,{state:a["default"].initialize(),controls:l["default"].initialize({imagePath:e.imagePath||""})},e),this.controls.addHandler("add",function(e){this.viewer.addControl(e.element,{anchor:OpenSeadragon.ControlAnchor.BOTTOM_LEFT})}.bind(this)),this},onOpen:function(){return this.overlay=h["default"].initialize({viewer:this.viewer}),this.viewer.addHandler("animation",function(){var e=this.overlay.el.clientWidth,t=this.overlay.el.clientHeight,i="0 0 "+e+" "+t,n=this.overlay.el.querySelector("svg");n.setAttribute("viewPort",i)}.bind(this)),this.controls.add("move",!0).addHandler("click",function(){this.viewer.setMouseNavEnabled(!0),this.state=a["default"].initialize()}.bind(this)),this.controls.add("draw").addHandler("click",function(){this.viewer.setMouseNavEnabled(!1),this.state=s["default"].initialize()}.bind(this)),this.overlay.el.addEventListener("mousedown",function(e){this.state.handleMouseDown(e,this.overlay)}.bind(this),!1),this.overlay.el.addEventListener("mouseup",function(e){this.state.handleMouseUp(e,this.overlay)}.bind(this),!1),this}},t.exports=i["default"]},{"./controls":2,"./draw":3,"./move":4,"./overlay":6}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=OpenSeadragon.extend(new OpenSeadragon.EventSource,{initialize:function(e){return OpenSeadragon.extend(this,e),this.list={},this.addHandler("click",this.onClick.bind(this)),this},onClick:function(e){for(var t in this.list)this.list.hasOwnProperty(t)&&(this.list[t].imgDown.style.visibility=t===e?"visible":"hidden");return this},add:function(e,t){return this.list[e]=new OpenSeadragon.Button({tooltip:e[0].toUpperCase()+e.substr(1),srcRest:this.imagePath+e+"_rest.png",srcGroup:this.imagePath+e+"_grouphover.png",srcHover:this.imagePath+e+"_hover.png",srcDown:this.imagePath+e+"_pressed.png",onClick:this.raiseEvent.bind(this,"click",e)}),t&&(this.list[e].imgDown.style.visibility="visible"),this.raiseEvent("add",this.list[e]),this.list[e]},get:function(e){return this.list[e]}}),t.exports=i["default"]},{}],3:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./state"),s=n(r),o=OpenSeadragon.extend(Object.create(s["default"]),{initialize:function(e){return OpenSeadragon.extend(this,e),this._mouseTracker=function(e){this.x=e.offsetX,this.y=e.offsetY}.bind(this),this},handleMouseDown:function(e,t){if(!this._interval){this.x=e.offsetX,this.y=e.offsetY;var i=t.el.querySelector("svg"),n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("fill","none"),n.setAttribute("stroke","red"),n.setAttribute("stroke-width","0.5"),n.setAttribute("stroke-linejoin","round"),n.setAttribute("stroke-linecap","round"),n.setAttribute("d","M"+this.x/t.el.clientWidth*100+" "+this.y/t.el.clientHeight*100),i.appendChild(n),t.el.addEventListener("mousemove",this._mouseTracker,!1),this._interval=window.setInterval(function(){n.setAttribute("d",n.getAttribute("d")+" L"+this.x/t.el.clientWidth*100+" "+this.y/t.el.clientHeight*100)}.bind(this),25)}return e.stopPropagation(),this},handleMouseUp:function(e,t){return t.el.removeEventListener("mousemove",this._mouseTracker),this._interval=clearInterval(this._interval),this}});i["default"]=o,t.exports=i["default"]},{"./state":7}],4:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./state"),s=n(r);i["default"]=Object.create(s["default"]),t.exports=i["default"]},{"./state":7}],5:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=e("./annotations"),s=n(r);if(!OpenSeadragon)throw new Error("OpenSeadragon Annotations requires OpenSeadragon");OpenSeadragon.Viewer.prototype.initializeAnnotations=function(e){return this.addHandler("open",s["default"].onOpen.bind(s["default"])),this.annotations=this.annotations||s["default"].initialize(OpenSeadragon.extend({viewer:this},e)),this}},{"./annotations":1}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={initialize:function(e){OpenSeadragon.extend(this,e),this.el=document.createElement("div"),this.el.className="overlay";var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("version","1.1"),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.setAttribute("preserveAspectRatio","none"),t.setAttribute("viewBox","0 0 100 100"),t.style.cursor="default",this.el.appendChild(t);var i=this.viewer.viewport.homeBounds.width,n=this.viewer.viewport.homeBounds.height;return this.viewer.addOverlay(this.el,new OpenSeadragon.Rect(0,0,i,n)),this}},t.exports=i["default"]},{}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={initialize:function(e){return OpenSeadragon.extend(this,e),this},handleMouseDown:function(){return this},handleMouseUp:function(){return this}},t.exports=i["default"]},{}]},{},[5]);
//# sourceMappingURL=/openseadragon-annotations.min.js.map