!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("OpenSeadragon"));else if("function"==typeof define&&define.amd)define(["OpenSeadragon"],e);else{var i=e("object"==typeof exports?require("OpenSeadragon"):t.OpenSeadragon);for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(this,function(t){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),r=n(s),o=i(3),a=n(o);if(!r["default"])throw new Error("OpenSeadragon Annotations requires OpenSeadragon");e["default"]=r["default"].Viewer.prototype.initializeAnnotations=function(t){return this.annotations=this.annotations||a["default"].initialize(r["default"].extend({viewer:this},t)),this},t.exports=e["default"]},function(e,i){e.exports=t},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),r=n(s);e["default"]={initialize:function(t){return r["default"].extend(this,t),this},handleMouseDown:function(){return this},handleMouseUp:function(){return this}},t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),r=n(s),o=i(2),a=n(o),u=i(5),l=n(u),d=i(4),h=n(d),f=i(6),c=n(f);e["default"]={initialize:function(t){return r["default"].extend(this,{state:a["default"].initialize(),controls:h["default"].initialize({imagePath:t.imagePath||""}),overlay:c["default"].initialize({viewer:t.viewer})},t),this.controls.addHandler("add",function(t){this.viewer.addControl(t.element,{anchor:r["default"].ControlAnchor.BOTTOM_LEFT})}.bind(this)),this.controls.add("move",!0).addHandler("click",function(){this.viewer.setMouseNavEnabled(!0),this.state=a["default"].initialize()}.bind(this)),this.controls.add("draw").addHandler("click",function(){this.viewer.setMouseNavEnabled(!1),this.state=l["default"].initialize()}.bind(this)),this.viewer.addHandler("animation",function(){var t=this.overlay.el.clientWidth,e=this.overlay.el.clientHeight,i="0 0 "+t+" "+e,n=this.overlay.el.querySelector("svg");n.setAttribute("viewPort",i)}.bind(this)),this.overlay.el.addEventListener("mousedown",function(t){this.state.handleMouseDown(t,this.overlay)}.bind(this),!1),this.overlay.el.addEventListener("mouseup",function(t){this.state.handleMouseUp(t,this.overlay)}.bind(this),!1),this},"import":function(){},"export":function(){}},t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),r=n(s);e["default"]=r["default"].extend(new r["default"].EventSource,{initialize:function(t){return r["default"].extend(this,t),this.list={},this.addHandler("click",this.onClick.bind(this)),this},onClick:function(t){for(var e in this.list)this.list.hasOwnProperty(e)&&(e===t?this.list[e].imgDown.style.visibility="visible":this.list[e].imgDown.style.visibility="hidden");return this},add:function(t,e){return this.list[t]=new r["default"].Button({tooltip:t[0].toUpperCase()+t.substr(1),srcRest:this.imagePath+t+"_rest.png",srcGroup:this.imagePath+t+"_grouphover.png",srcHover:this.imagePath+t+"_hover.png",srcDown:this.imagePath+t+"_pressed.png",onClick:this.raiseEvent.bind(this,"click",t)}),e&&(this.list[t].imgDown.style.visibility="visible"),this.raiseEvent("add",this.list[t]),this.list[t]},get:function(t){return this.list[t]}}),t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),r=n(s),o=i(2),a=n(o),u=r["default"].extend(Object.create(a["default"]),{initialize:function(t){return r["default"].extend(this,t),this._mouseTracker=function(t){this.x=t.offsetX,this.y=t.offsetY}.bind(this),this},handleMouseDown:function(t,e){if(!this._interval){this.x=t.offsetX,this.y=t.offsetY;var i=e.el.querySelector("svg"),n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("fill","none"),n.setAttribute("stroke","red"),n.setAttribute("stroke-width","0.5"),n.setAttribute("stroke-linejoin","round"),n.setAttribute("stroke-linecap","round"),n.setAttribute("d","M"+this.x/e.el.clientWidth*100+" "+this.y/e.el.clientHeight*100),i.appendChild(n),e.el.addEventListener("mousemove",this._mouseTracker,!1),this._interval=window.setInterval(function(){n.setAttribute("d",n.getAttribute("d")+" L"+this.x/e.el.clientWidth*100+" "+this.y/e.el.clientHeight*100)}.bind(this),25)}return t.stopPropagation(),this},handleMouseUp:function(t,e){return e.el.removeEventListener("mousemove",this._mouseTracker),this._interval=clearInterval(this._interval),this}});e["default"]=u,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),r=n(s);e["default"]={initialize:function(t){r["default"].extend(this,t),this.el=document.createElement("div"),this.el.className="overlay";var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("version","1.1"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttribute("preserveAspectRatio","none"),e.setAttribute("viewBox","0 0 100 100"),e.style.cursor="default",this.el.appendChild(e);var i=this.viewer.viewport.homeBounds.width,n=this.viewer.viewport.homeBounds.height;return this.viewer.addOverlay(this.el,new r["default"].Rect(0,0,i,n)),this}},t.exports=e["default"]}])});
//# sourceMappingURL=openseadragon-annotations.min.js.map